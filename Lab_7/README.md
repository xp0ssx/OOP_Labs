# Лабораторная работа 7. Асинхронное программирование

## Автор: Кудинов Денис, группа М8О-212Б-22

### Вариант: 15
**Объекты:** Странствующий рыцарь,
Пегас , Дракон

**Правило совместимости:** 
Пегас никого не трогает
Друид никого не трогает
Дракон есть пегаса
Рыцарь убивает дракона

### Цель:
- Знакомство с асинхронным программированием;
- Получение практических навыков в параллельной обработке данных;
- Получение практических навыков в синхронизации потоков;

### Требования к программе:
Модифицируйте вашу лабораторную работу №6 следующим образом:
- Должно быть реализовано три потока:
    + Поток, который осуществляет передвижение NPC на определенное расстояние (см. таблицу), а также определяет, что два NPC находятся на расстоянии убийства (см. таблицу). Если два NPC вступили в «бой», то он создает задачу для потока, осуществляющего бои.
    + Поток, который осуществляет бои. Если один npc может убивать другой, то каждый npc «кидает 6-гранный кубик» определяя силу атаки и силу защиты (соответственно). Если сила атаки больше, чем сила защиты – то происходит убийство.
    + Мертвые npc не передвигаются (у нас тут без некромантов).
    + Живые npc не могут покинуть карту (размер задается через константы, например 100 x 100)
    + Основной поток раз в секунду печатает карту. Мертвые npc на карте не отображаются.
- Осуществить контроль доступа к разделяемым ресурсов с помощью std::shared_lock и std::lock_guard
- Осуществить контроль к потоку вывода std::cout через std::lock_guard
- Потоки могут запускаться как std::thread с использованием лямбда функций или функторов (классов с перегруженным оператором operator())
- Вначале игры должно создаваться 50 npc в случайных локациях.
- Игра должна останавливаться через 30 секунд и выводить на экран список выживших

### Таблица убиваемости:

Кто нагоняет         | Расстояние хода  | Расстояние убийства
---------------------|------------------|---------------------
Странствующий рыцарь | 30               | 10
Пегас                | 30               | 10
Дракон               | 50               | 30
